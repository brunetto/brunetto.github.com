<!DOCTYPE html><html lang="en">
<head>
    
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="brunetto">
    <title>Learning C from simulations, #3: C horrors! | for future reference...</title>
    <!-- mathjax_config -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
        },
        displayAlign: 'left', // Change this to 'center' to center equations.
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}}
        }
    });
    </script>
    
        
            <link href="../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
            <link href="../assets/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css">
        
        <link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
        <link href="../assets/css/code.css" rel="stylesheet" type="text/css">
        <link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css">
        <link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
        <link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
        <link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
        
    
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
    
        
            <link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
        
    
    

    


    


    
</head>
<body>
<!-- Menubar -->
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">

        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </a>

            <a class="brand" href="../">
            for future reference...
            </a>
            <!-- Everything you want hidden at 940px or less, place within here -->
            <div class="nav-collapse collapse">
                <ul class="nav">
                    
    
        
            <li><a href="../archive.html">Archives</a>
        
    
        
            </li><li><a href="../categories/index.html">Tags</a>
        
    
        
            </li><li><a href="../stories/about.html">About</a>
        
    
        
            </li><li><a href="../rss.xml">RSS</a>
        
    

                </li></ul>
                
                    
<!-- Custom search with google-->
<form id="search" action="http://google.com/search" method="get" class="navbar-form pull-left">
<input type="hidden" name="q" value="site:brunetto.github.io">
<input type="text" name="q" maxlength="255" results="0" placeholder="Search">
</form>
<!-- End of custom search -->

                
                <ul class="nav pull-right">
                
                
                
                
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- End of Menubar -->
<div class="container-fluid" id="container-fluid">
    <!--Body content-->
    <div class="row-fluid">
    <div class="span2"></div>
    <div class="span8">
    
    <div class="postbox">
    
    <h1>Learning C from simulations, #3: C horrors!</h1>
    

    <hr>
    <small>
        Posted: <time class="published" datetime="2012-02-20T00:00:00">2012-02-20 00:00</time>
        
    

        
    
          |  More posts about
        
            <a class="tag" href="../categories/astrophysics.html"><span class="badge badge-info">astro/physics</span></a>
        
            <a class="tag" href="../categories/c.html"><span class="badge badge-info">C</span></a>
        
            <a class="tag" href="../categories/code.html"><span class="badge badge-info">code</span></a>
        
            <a class="tag" href="../categories/n-body.html"><span class="badge badge-info">N-body</span></a>
        
            <a class="tag" href="../categories/numerical.html"><span class="badge badge-info">numerical</span></a>
        
            <a class="tag" href="../categories/phd.html"><span class="badge badge-info">PhD</span></a>
        
            <a class="tag" href="../categories/program.html"><span class="badge badge-info">program</span></a>
        
            <a class="tag" href="../categories/simulations.html"><span class="badge badge-info">simulations</span></a>
        
            <a class="tag" href="../categories/imported.html"><span class="badge badge-info">imported</span></a>
        
    

    </small>
    <hr>
    <p>Yeah, this is post #3! Post #2 is "work in progress" and it will be on FFTs!    </p>
<p>Today I was trying to understand what this piece of code do:    </p>
<div class="code"><pre><span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">Nmesh</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
 <span class="n">seedtable</span><span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x7fffffff</span> <span class="o">*</span> <span class="n">gsl_rng_uniform</span><span class="p">(</span><span class="n">random_generator</span><span class="p">);</span>

      <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
 <span class="n">seedtable</span><span class="p">[</span><span class="n">j</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x7fffffff</span> <span class="o">*</span> <span class="n">gsl_rng_uniform</span><span class="p">(</span><span class="n">random_generator</span><span class="p">);</span>

      <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
 <span class="n">seedtable</span><span class="p">[(</span><span class="n">Nmesh</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x7fffffff</span> <span class="o">*</span> <span class="n">gsl_rng_uniform</span><span class="p">(</span><span class="n">random_generator</span><span class="p">);</span>

      <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
 <span class="n">seedtable</span><span class="p">[(</span><span class="n">Nmesh</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">j</span><span class="p">)</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x7fffffff</span> <span class="o">*</span> <span class="n">gsl_rng_uniform</span><span class="p">(</span><span class="n">random_generator</span><span class="p">);</span>

      <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
 <span class="n">seedtable</span><span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="p">(</span><span class="n">Nmesh</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">j</span><span class="p">)]</span> <span class="o">=</span> <span class="mh">0x7fffffff</span> <span class="o">*</span> <span class="n">gsl_rng_uniform</span><span class="p">(</span><span class="n">random_generator</span><span class="p">);</span>

      <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
 <span class="n">seedtable</span><span class="p">[</span><span class="n">j</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="p">(</span><span class="n">Nmesh</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="p">)]</span> <span class="o">=</span> <span class="mh">0x7fffffff</span> <span class="o">*</span> <span class="n">gsl_rng_uniform</span><span class="p">(</span><span class="n">random_generator</span><span class="p">);</span>

      <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
 <span class="n">seedtable</span><span class="p">[(</span><span class="n">Nmesh</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="p">(</span><span class="n">Nmesh</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">j</span><span class="p">)]</span> <span class="o">=</span> <span class="mh">0x7fffffff</span> <span class="o">*</span> <span class="n">gsl_rng_uniform</span><span class="p">(</span><span class="n">random_generator</span><span class="p">);</span>

      <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
 <span class="n">seedtable</span><span class="p">[(</span><span class="n">Nmesh</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">j</span><span class="p">)</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="p">(</span><span class="n">Nmesh</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="p">)]</span> <span class="o">=</span> <span class="mh">0x7fffffff</span> <span class="o">*</span> <span class="n">gsl_rng_uniform</span><span class="p">(</span><span class="n">random_generator</span><span class="p">);</span>
    <span class="p">}</span>
</pre></div>


<!-- TEASER_END -->

<div class="code"><pre>
</pre></div>


<p>It's a piece of the source of N-GenIC, Springel's ICs generator for <a href="http://www.gadgetcode.org/right.html" target="_blank" title="Gadget2">Gadget2</a>. Obviously no comments were present and I have no experience of how those codes work. I know that this is a way to fill the <code>seedtable</code> array, maybe a matrix that provides random seeds for the FFTs or to generate the [latex]delta[/latex]s for the realization of the density field. This array is stored in 1D so to access the elements we have to do some magic with indices. Trying to understand how the matrix is filled and how the indices works, and to practice with C I've wrote this piece of code:    </p>
<div class="code"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;math.h&gt;</span>

<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">){</span>
  <span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"i = %in"</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">"t j= %in"</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
      <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">N</span> <span class="o">+</span> <span class="n">j</span><span class="p">))</span>
 <span class="n">printf</span><span class="p">(</span><span class="s">"j doesn't existn"</span><span class="p">);</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">"tt i * Nmesh + j = %in"</span><span class="p">,</span>  <span class="n">i</span> <span class="o">*</span> <span class="n">N</span> <span class="o">+</span> <span class="n">j</span><span class="p">);</span>
  <span class="cm">/*</span>
<span class="cm">    a lot of commented code from the code above</span>
<span class="cm">  */</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>The result was    </p>
<div class="code"><pre><span class="nv">i</span> <span class="o">=</span> 0
j doesn<span class="err">'</span>t exist
                 i * Nmesh + <span class="nv">j</span> <span class="o">=</span> 0
<span class="nv">i</span> <span class="o">=</span> 1
         <span class="nv">j</span><span class="o">=</span> 0
                 i * Nmesh + <span class="nv">j</span> <span class="o">=</span> 11
<span class="nv">i</span> <span class="o">=</span> 2
         <span class="nv">j</span><span class="o">=</span> 0
         <span class="nv">j</span><span class="o">=</span> 1
                 i * Nmesh + <span class="nv">j</span> <span class="o">=</span> 22
<span class="nv">i</span> <span class="o">=</span> 3
         <span class="nv">j</span><span class="o">=</span> 0
         <span class="nv">j</span><span class="o">=</span> 1
         <span class="nv">j</span><span class="o">=</span> 2
                 i * Nmesh + <span class="nv">j</span> <span class="o">=</span> 33
<span class="nv">i</span> <span class="o">=</span> 4
         <span class="nv">j</span><span class="o">=</span> 0
         <span class="nv">j</span><span class="o">=</span> 1
         <span class="nv">j</span><span class="o">=</span> 2
         <span class="nv">j</span><span class="o">=</span> 3
                 i * Nmesh + <span class="nv">j</span> <span class="o">=</span> 44
</pre></div>


<p>clearly wrong.  <br>
So I've modified the code (thanks to my coworker) to print <code>j</code> and the expression in both the lines, and the result was    </p>
<div class="code"><pre><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">j</span> <span class="n">doesn</span><span class="err">'</span><span class="n">t</span> <span class="n">exist</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">10</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">2</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">20</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">21</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">22</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">3</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">30</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">31</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">32</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">33</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">4</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">40</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">41</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">42</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">43</span>
         <span class="n">j</span><span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">Nmesh</span> <span class="o">+</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">44</span>
</pre></div>


<p>wrong again!    </p>
<p>The key is the second <code>for</code> statement, without the brackets. It was difficult to me to see this because C allows a for statement without brackets evaluating only the first line into the loop, and there were a lot of loop of one line commented into the code. The correct code    </p>
<div class="code"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;math.h&gt;</span>

<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">){</span>
  <span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"i = %in"</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">){</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">"t j= %i, i * Nmesh + j = %in"</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">N</span> <span class="o">+</span> <span class="n">j</span><span class="p">);</span>
      <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">N</span> <span class="o">+</span> <span class="n">j</span><span class="p">))</span>
 <span class="n">printf</span><span class="p">(</span><span class="s">"j doesn't existn"</span><span class="p">);</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">"t j= %i, i * Nmesh + j = %in"</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">N</span> <span class="o">+</span> <span class="n">j</span><span class="p">);</span>
  <span class="cm">/*</span>
<span class="cm">    a lot of commented code from the code above</span>
<span class="cm">  */</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>works right!  <br>
Obviously the Python version I've wrote before was perfect the first time I wrote it.!:P In Python, due to the mandatory indentation (and without those terrible brackets!:P) it's straightforward to understand what belong to a loop and what doesn't!</p>
    
    <ul class="pager">
    
        <li class="previous">
            <a href="the-initial-condition-saga.html">← Previous post</a>
        </li>
    
    
        <li class="next">
            <a href="cosmological-simulations-9-gadget-2-n-body-part.html">Next post →</a>
        </li>
    
    </ul>

    
        
    
        <div id="disqus_thread"></div>
        <script type="text/javascript">
        var disqus_shortname ="brunettosblog";
        
            var disqus_url="brunetto.github.io/posts/learning-c-from-simulations-3-c-horrors.html";
        
        var disqus_title="Learning C from simulations, #3: C horrors!";
        var disqus_identifier="cache/posts/learning-c-from-simulations-3-c-horrors.html";
        var disqus_config = function () {
            this.language = "";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">Comments powered by <span class="logo-disqus">Disqus</span></a>
    

    
    
    

    </div>

    </div>
    </div>
    <!--End of body content-->
</div>
<div class="footerbox">
    Contents © 2013         <a href="mailto:brunetto.ziosi@gmail.com">brunetto</a> - <a href="https://plus.google.com/117554238100031566866?rel=author">G+ Profile</a> - Powered by         <a href="http://nikola.ralsina.com.ar">Nikola</a>
</div>


    <!-- Social buttons -->
    <div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
    <a class="addthis_button_more">Share</a>
    <ul><li><a class="addthis_button_facebook"></a>
    </li><li><a class="addthis_button_google_plusone_share"></a>
    </li><li><a class="addthis_button_linkedin"></a>
    </li><li><a class="addthis_button_twitter"></a>
    </li></ul>
    </div>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script>
    <!-- End of social buttons -->



    
        
            <script src="../assets/js/jquery-1.7.2.min.js" type="text/javascript"></script>
            <script src="../assets/js/bootstrap.min.js" type="text/javascript"></script>
        
        <script src="../assets/js/jquery.colorbox-min.js" type="text/javascript"></script>
        <script src="../assets/js/mathjax-onload.js" type="text/javascript"></script>
    


    <script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"80%",maxHeight:"80%",scalePhotos:true});</script>
</body></html>