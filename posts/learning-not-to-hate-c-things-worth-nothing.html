<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="description" content=""><meta name="author" content="brunetto"><title>Learning not to hate C: things worth nothing | for further reference...</title><!-- mathjax_config --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
        },
        displayAlign: 'left', // Change this to 'center' to center equations.
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}}
        }
    });
    </script><link href="../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css"><link href="../assets/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css"><link href="../assets/css/rst.css" rel="stylesheet" type="text/css"><link href="../assets/css/code.css" rel="stylesheet" type="text/css"><link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css"><link href="../assets/css/theme.css" rel="stylesheet" type="text/css"><link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css"><link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css"><!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml"></head><body>
<!-- Menubar -->
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">

        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </a>

            <a class="brand" href="../">
            for further reference...
            </a>
            <!-- Everything you want hidden at 940px or less, place within here -->
            <div class="nav-collapse collapse">
                <ul class="nav"><li><a href="../archive.html">Archives</a>
        
    
        
            </li><li><a href="../categories/index.html">Tags</a>
        
    
        
            </li><li><a href="../stories/about.html">About</a>
        
    
        
            </li><li><a href="../rss.xml">RSS</a>
        
    

                </li></ul><!-- Custom search with google--><form id="search" action="http://google.com/search" method="get" class="navbar-form pull-left">
<input type="hidden" name="q" value="site:brunetto.github.io"><input type="text" name="q" maxlength="255" results="0" placeholder="Search"></form>
<!-- End of custom search -->

                
                <ul class="nav pull-right"></ul></div>
        </div>
    </div>
</div>
<!-- End of Menubar -->
<div class="container-fluid" id="container-fluid">
    <!--Body content-->
    <div class="row-fluid">
    <div class="span2"></div>
    <div class="span8">
    
    <div class="postbox">
    
    <h1>Learning not to hate C: things worth nothing</h1>
    

    <hr><small>
        Posted: <time class="published" datetime="2012-05-21T00:00:00">2012-05-21 00:00</time>
        
    

        
    
          |  More posts about
        
            <a class="tag" href="../categories/c.html"><span class="badge badge-info">C</span></a>
        
            <a class="tag" href="../categories/code.html"><span class="badge badge-info">code</span></a>
        
            <a class="tag" href="../categories/imported.html"><span class="badge badge-info">imported</span></a>
        
    

    </small>
    <hr><p>Here I would like to post some of the ideas, tricks, truths, and so on I've learned during the two-days course at the computing center. Two intense days of base C-programming full immersion, far beyond the flat and boring (and unuseful) orthodoxy you can find in a book.    </p>
<!-- TEASER_END -->

<div class="code"><pre>
</pre></div>


<p><strong>Header files</strong>  <br>
They are one of the first annoying things I see in C/C++ languages. Two files for each "module", two lines to be modified every times, ... but I have eventually obtained a reasonable justification for their existence. When you distribute your code, or download someone's code, you can share or download compiled code+header files and not all the sources.    </p>
<p><strong>Compile</strong>  <br>
The easiest way to compile the sources and get the executable is    </p>
<div class="code"><pre><span class="n">gcc</span> <span class="n">pippo</span><span class="p">.</span><span class="n">c</span> <span class="o">-</span><span class="n">o</span> <span class="n">pippo</span><span class="p">.</span><span class="n">x</span>
</pre></div>


<p>where <code>pippo.c</code> is the source(s) (you can have <code>pippo1.c</code>, <code>pippo2.c</code> etc, but only one <code>main</code> function) file.  <br>
A better way is to include some flags    </p>
<div class="code"><pre><span class="n">gcc</span> <span class="o">-</span><span class="n">std</span><span class="o">=</span><span class="n">gnu99</span> <span class="o">-</span><span class="n">Wall</span> <span class="o">-</span><span class="n">pedantic</span> <span class="o">-</span><span class="n">Werror</span> <span class="o">-</span><span class="n">O0</span> <span class="o">-</span><span class="n">g</span> <span class="o">-</span><span class="n">o</span> <span class="n">pippo</span><span class="p">.</span><span class="n">x</span> <span class="n">pippo</span><span class="p">.</span><span class="n">c</span>
</pre></div>


<p>where    </p>
<ul><li><code>-std=gnu99</code> forces the compiler to the C99 standard (it includes some new features)</li>
<li><code>-Wall</code> to print all the compiler warnings</li>
<li><code>-pedantic</code> "Issue all the warnings demanded by strict ISO C and ISO C++; reject all programs that use forbidden extensions, and some other programs that do not follow ISO C and ISO C++" (from the <code>gcc</code> manual)</li>
<li><code>-Werror</code> transform the warnings into errors</li>
<li><code>-O0</code> no optimization</li>
<li><code>-g</code> produces debugging informations</li>
<li><code>-o</code> to specify the output</li>
</ul><p><strong>MACROS &amp; preprocessor</strong>    </p>
<p>The preprocessor is a sort of automated text editor. It cut and paste piece of text in the sources files according to some simple rules. With it you can define "constant" values or simple functions (danger, can lead to unpredicted effects) across the whole source and make easy to change it    </p>
<div class="code"><pre><span class="cp">#define PI 3.14</span>
<span class="kt">float</span> <span class="n">a</span> <span class="o">=</span> <span class="n">PI</span><span class="p">;</span>
</pre></div>


<p>but you can also check for already defined quantities, compile pieces of code ("conditional compilation") or implement a "header-guard" to avoid multiple imports of the same header    </p>
<div class="code"><pre><span class="cp">#define CONDITION</span>
<span class="cp">#ifdef CONDITION</span>
<span class="p">....</span>
<span class="cp">#else</span>
<span class="p">....</span>
<span class="cp">#endif</span>
</pre></div>


<div class="code"><pre><span class="cp">#ifndef HEADER_H</span>
<span class="cp">#define HEADER_H</span>
<span class="p">.....</span>
<span class="cp">#endif</span>
</pre></div>


<p>Compiling with the <code>-E</code> flag you can view the result of the preprocessor action.    </p>
<p><strong>Numbers</strong>    </p>
<p>Number variables are similar to those in other programming languages, but there's some peculiarities.  <br>
Integer dimension depends on the machine and on the compiler, on the contrary floats and doubles are fixed by an international standard. For the rest you can find detailed description on every C books.    </p>
<p><strong>Cast</strong>    </p>
<p>It's possible to convert one type to some other type. For example,    </p>
<div class="code"><pre><span class="kt">float</span> <span class="n">pippo</span><span class="p">;</span>
<span class="n">pippo</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span> <span class="n">k</span><span class="o">*</span><span class="mi">1024L</span><span class="p">;</span>
</pre></div>


<p><strong>Bool</strong>    </p>
<p>There aren't boolean variables, but 0 stands for <code>False</code> and any other non-zero value means <code>True</code>.    </p>
<p><strong>Side effect and short-circuit</strong>    </p>
<p>Something like    </p>
<div class="code"><pre><span class="n">i</span> <span class="o">=</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">-</span> <span class="o">++</span><span class="n">k</span><span class="p">;</span>
</pre></div>


<p>has indefinite result because it's not predictable the order of evaluation of operand/expression <code>k</code> and <code>++k</code>, and those expressions have <em>side effects</em> on the other expression involved in the result.  <br>
Logical operators <code>&amp;&amp;</code> and <code>||</code> instead are evaluated strictly from left to right. This is c<em>alled short-circuit evaluation</em> and the operators are synchronization points, just like ";". At a synchronization point all the code before has to be already evaluated and the code after has not yet.    </p>
<p><strong>Ternary operator</strong>    </p>
<p>The ternary operator accept three arguments and has the form of    </p>
<div class="code"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">a</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">b</span> <span class="o">?</span> <span class="n">x</span> <span class="o">:</span> <span class="n">y</span><span class="p">;</span>
</pre></div>


<p>This means <code>[expression_to_evaluate] ? [if true] : [if false]</code>. Obviously you can nest as many expression and operator as you want.    </p>
<p><strong>Variables qualifiers</strong>    </p>
<p>In C there'are some qualifier that can be added to the type specification. Three of them are <code>const</code>, <code>extern</code> and <code>static</code>.  <br>
The first can be added in the function declaration to tell the compiler that the values has not to be changed by the function, for example    </p>
<div class="code"><pre><span class="kt">int</span> <span class="nf">pippo</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="n">pluto</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">paperino</span><span class="p">);</span>
</pre></div>


<p>means that the integer <code>pluto</code> and the pointer to integer <code>paperino</code> can not be changed by the function <code>pippo</code>.  <br>
"extern" specifies that the variable is a global variable, coming from outside the function:    </p>
<div class="code"><pre><span class="kt">int</span> <span class="n">pippo</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(...){</span>
    <span class="k">extern</span> <span class="kt">int</span> <span class="n">pippo</span><span class="p">;</span>
<span class="p">...</span>
<span class="p">}</span>
</pre></div>


<p>"static" has different meanings depending on where you put it.  <br>
Before a global variable means that the variable is private of the file, and other files can not use it. Inside a function means that the variable survive after the end of the function (when the stack frame - the stack memory associated to the function - is deleted) and is available to the succeeding calls to the same function. Static is also used before a function to specify that the function is private of the file and can not be called outside:    </p>
<div class="code"><pre><span class="k">static</span> <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">foo</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>
    <span class="k">extern</span> <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">static</span> <span class="kt">int</span> <span class="n">j</span>
<span class="p">}</span>
</pre></div>


<ul><li><code>i</code> is global inside the file but can not be called outside</li>
<li>the function <code>foo</code> is private of the file and can not be called outside</li>
<li><code>j</code> survive after the termination of the function and maintains its value until the next call.</li>
</ul><p><strong>Pointers</strong>    </p>
<p>Pointers are special integer values that contains addresses of other values, for example:    </p>
<div class="code"><pre><span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
<span class="kt">int</span><span class="o">*</span> <span class="n">p</span><span class="p">;</span>
<span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">i</span><span class="p">;</span>
<span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="mi">13</span><span class="p">;</span>
</pre></div>


<p>first we define the integer <code>i</code>, then a pointer <code>p</code> to a integer value (here <code>*</code> means "the argument on the right is a pointer to a value of type defined by the argument on the left"), then we put the address of <code>i</code> in <code>p</code> (<code>&amp;amp;</code> means "give me the address of the right argument") and at the end we modify the value of <code>i</code> dereferencing <code>p</code>, that is modifying the memory cell pointed by the address contained in p (here <code>*</code> means "follow the address contained in the argument on the right").  <br>
It's possible to define pointers to pointers to pointers etc. adding "*". It exists the null pointer, that is an invalid pointer, and follow it result in a "segmentation fault" that means "you are trying to access memory you are not allowed to access". A pointer defined but not filled point to a random location in memory, so following it results in an indefinite result, probably a segmentation fault or the modification of another variable.   <br>
Because the dereferencing operator has not the highest precedence, sometimes you will have to put parenthesis to specify the order of dereferencing:    </p>
<div class="code"><pre><span class="cm">/*Filling a "heap" array using pointers*/</span>
<span class="p">(</span><span class="o">*</span><span class="n">ptr</span><span class="p">)[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">float</span><span class="o">*</span><span class="p">)</span> <span class="n">malloc</span><span class="p">(</span><span class="n">sizeof</span><span class="p">(</span><span class="n">float</span><span class="p">)</span><span class="o">*</span><span class="n">lenghtx</span><span class="p">);</span>

<span class="cm">/*In struct, the two forms are equivalent*/</span>
<span class="p">(</span><span class="o">*</span><span class="n">pippo</span><span class="p">).</span><span class="n">pluto</span>
<span class="n">pippo</span><span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span><span class="n">pluto</span>
</pre></div>


<p><strong>Stack and heap</strong>    </p>
<p>The stack is the automatic memory used for the function calls, their local variables and the automatic arrays. It's managed automatically. The heap is the memory available to the user to define his variables. This has to be managed by the user so he has to deallocate the allocated memory and to keep track of the pointers (address). If you loose the pointer to some allocated memory this is lost until the end of the program and the memory can saturate. This is known as "<em>memory leak</em>".    </p>
<p><strong>Arrays</strong>    </p>
<p>There'are basically two ways to create an array. First, you can create an automatic array in the stack memory, managed by the compiler. For this reason automatic arrays must be small and have to be defined at compile time, that means that you have to know and declare the dimension, for example;    </p>
<pre>float array[10];</pre>

<p>You can access the elements of the array in the natural way <code>array[3] = 10</code>.  <br>
As a matter of fact, because an array it's a masked pointer, all of these are equivalent    </p>
<div class="code"><pre><span class="o">*</span><span class="n">V</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="n">V</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="o">*</span><span class="p">(</span><span class="n">V</span><span class="o">+</span><span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="mi">0</span><span class="p">[</span><span class="n">V</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>


<p>The operator "<code>[]</code>" is equivalent to dereferencing the address contained into the pointer on the left shifted by the quantity inside the operator, and to shift an address is equivalent to sum it to the shift because addresses are integer values and the memory occupied by an array is contiguous.    </p>
<p>The second type of array is defined by the user and manually allocated (and manually deallocated) in the heap memory with    </p>
<div class="code"><pre><span class="kt">void</span><span class="o">*</span> <span class="nf">malloc</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">size</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">free</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">heapBlockPointer</span><span class="p">);</span>
</pre></div>


<p>In practice, the following is an example of how to implement two functions that create and destroy a two dimensional array given a pointer:    </p>
<div class="code"><pre><span class="cp">#include </span>
<span class="cp">#include </span>
<span class="cp">#include "array_management.h"</span>

<span class="cm">/* Function definition, takes as argument the address of a pointer to pointer */</span>
<span class="kt">int</span> <span class="nf">array_creation</span><span class="p">(</span><span class="kt">float</span><span class="o">***</span> <span class="n">ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lenghtx</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lenghty</span><span class="p">){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Create array of pointers...n"</span><span class="p">);</span>

    <span class="cm">/* In the memory cell of the pointer put the address of the first </span>
<span class="cm">        element of an array of pointers to float and allocate the necessary space */</span>
    <span class="o">*</span><span class="n">ptr</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="o">**</span><span class="p">)</span> <span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">float</span><span class="o">*</span><span class="p">)</span><span class="o">*</span><span class="n">lenghty</span><span class="p">);</span> 

    <span class="cm">/* Check that the allocation worked fine */</span>
    <span class="k">if</span><span class="p">(</span><span class="o">*</span><span class="n">ptr</span><span class="o">==</span><span class="nb">NULL</span><span class="p">){</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Create arrays...n"</span><span class="p">);</span>

    <span class="cm">/* Allocate memory for an array of float for each pointer and put the address </span>
<span class="cm">        of the first element in the respective cell of the array of pointers */</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">lenghty</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="p">(</span><span class="o">*</span><span class="n">ptr</span><span class="p">)[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="o">*</span><span class="p">)</span> <span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="o">*</span><span class="n">lenghtx</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span> <span class="p">(</span><span class="o">*</span><span class="n">ptr</span><span class="p">)[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">){</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/* Function to deallocate the memory */</span>
<span class="kt">void</span> <span class="nf">array_destruction</span><span class="p">(</span><span class="kt">float</span><span class="o">**</span> <span class="n">ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lenghty</span><span class="p">){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Destructing array...n"</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">lenghty</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="n">free</span><span class="p">(</span><span class="n">ptr</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="n">free</span><span class="p">(</span><span class="n">ptr</span><span class="p">);</span> 
<span class="p">}</span>
</pre></div>


<p>In both types of array there isn't a control on the indexes, it's up to the user not to read or write beyond the array limits.    </p>
<p>It's also important to keep in mind that arrays are contiguous memory blocks, and a multidimensional array is "linearized" row-major order so it's faster to "run" on the row index (that on the right-most one). This is known as <a href="http://en.wikipedia.org/wiki/Stride_of_an_array" target="_blank">stride one access</a>.    </p>
<p><strong>Structs</strong>    </p>
<p>An array is a structure containing homogeneous data, if you need to put together different types of data you can use structs:    </p>
<div class="code"><pre><span class="k">struct</span> <span class="n">point</span> <span class="p">{</span>
<span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">y</span><span class="p">;};</span> <span class="cm">/* Don't forget this semicolon!*/</span>

<span class="k">struct</span> <span class="n">point</span> <span class="n">pippo</span><span class="p">;</span>
<span class="n">pippo</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
<span class="n">pippo</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>
</pre></div>


<p>It's also possible to use <code>typedef</code> to symplify the sintax:    </p>
<div class="code"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">treenode</span><span class="o">*</span> <span class="n">Tree</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">treenode</span> <span class="p">{</span>
<span class="kt">int</span> <span class="n">data</span><span class="p">;</span>
<span class="n">Tree</span> <span class="n">smaller</span><span class="p">,</span> <span class="n">larger</span><span class="p">;</span> <span class="cm">/* equivalently, this line could say</span>
<span class="cm">};                       "struct treenode *smaller, *larger" */</span>  
</pre></div>


<p>(From Cineca's slides)    </p>
<p><strong>Strings</strong>    </p>
<p>Strings are simply arrays of characters, usually terminated with the "null" character "<code>" to be able to use the string manipulation libraries (without "</code>" you should give the length of the string to the library, but they are not designed to do this).  <br>
Because of this, the two expression that follows are equivalent:    </p>
<div class="code"><pre><span class="kt">void</span> <span class="nf">strcpy</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">t</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">while</span> <span class="p">((</span><span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="o">*</span><span class="n">t</span><span class="p">)</span> <span class="o">!=</span> <span class="err">‘’</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">s</span><span class="o">++</span><span class="p">;</span>
    <span class="n">t</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">strcpy</span><span class="p">(</span><span class="kt">char</span> <span class="n">s</span><span class="p">[],</span> <span class="kt">char</span> <span class="o">*</span><span class="n">t</span><span class="p">)</span> <span class="p">{</span>
    <span class="cm">/* s arr, t ptr */</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">((</span><span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">!=</span> <span class="err">‘’</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">s</span><span class="o">++</span><span class="p">;</span> <span class="cm">/* s ptr */</span>
    <span class="n">i</span><span class="o">++</span><span class="p">;</span> <span class="cm">/* t arr */</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>(From Cineca's slides)    </p>
<p><strong>Assignement evaluation</strong>    </p>
<p>Because the assignment operator "=" return the value assigned, it's possible to use this in expression evaluation to shorten the code, for example:    </p>
<div class="code"><pre><span class="kt">void</span> <span class="nf">strcpy</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">t</span><span class="p">){</span><span class="k">while</span><span class="p">((</span><span class="o">*</span><span class="n">s</span><span class="o">++==*</span><span class="n">t</span><span class="o">++</span><span class="p">));}</span>
</pre></div>


<p>is equivalent to the expressions in the previous paragraph.</p>
    
    <ul class="pager"><li class="previous">
            <a href="create-recreate-and-remove-duplicates-in-array-manipulation-obviously-in-python.html">← Previous post</a>
        </li>
    
    
        <li class="next">
            <a href="essential-guide-to-binning.html">Next post →</a>
        </li>
    
    </ul><div id="disqus_thread"></div>
        <script type="text/javascript">
        var disqus_shortname ="brunettosblog";
        
            var disqus_url="brunetto.github.io/posts/learning-not-to-hate-c-things-worth-nothing.html";
        
        var disqus_title="Learning not to hate C: things worth nothing";
        var disqus_identifier="cache/posts/learning-not-to-hate-c-things-worth-nothing.html";
        var disqus_config = function () {
            this.language = "";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">Comments powered by <span class="logo-disqus">Disqus</span></a>
    

    
    
    

    </div>

    </div>
    </div>
    <!--End of body content-->
</div>
<div class="footerbox">
    Contents © 2013         <a href="mailto:brunetto.ziosi@gmail.com">brunetto</a> - <a href="https://plus.google.com/117554238100031566866?rel=author">G+ Profile</a> - Powered by         <a href="http://nikola.ralsina.com.ar">Nikola</a>
</div>


    <!-- Social buttons -->
    <div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
    <a class="addthis_button_more">Share</a>
    <ul><li><a class="addthis_button_facebook"></a>
    </li><li><a class="addthis_button_google_plusone_share"></a>
    </li><li><a class="addthis_button_linkedin"></a>
    </li><li><a class="addthis_button_twitter"></a>
    </li></ul></div>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script><!-- End of social buttons --><script src="../assets/js/jquery-1.7.2.min.js" type="text/javascript"></script><script src="../assets/js/bootstrap.min.js" type="text/javascript"></script><script src="../assets/js/jquery.colorbox-min.js" type="text/javascript"></script><script src="../assets/js/mathjax-onload.js" type="text/javascript"></script><script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"80%",maxHeight:"80%",scalePhotos:true});</script></body></html>