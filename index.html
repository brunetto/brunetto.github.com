<!DOCTYPE html><html lang="en">
<head>
    
    <meta charset="utf-8">
    <meta name="description" content="This is a demo site for Nikola.">
    <meta name="author" content="brunetto">
    <title>brunetto's blog | brunetto's blog</title>
    <!-- mathjax_config -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
        },
        displayAlign: 'left', // Change this to 'center' to center equations.
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}}
        }
    });
    </script>
    
        
            <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
            <link href="assets/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css">
        
        <link href="assets/css/rst.css" rel="stylesheet" type="text/css">
        <link href="assets/css/code.css" rel="stylesheet" type="text/css">
        <link href="assets/css/colorbox.css" rel="stylesheet" type="text/css">
        <link href="assets/css/theme.css" rel="stylesheet" type="text/css">
        <link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
        <link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
        
    
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
    
        
            <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
        
    
    

    
    
    
</head>
<body>
<!-- Menubar -->
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">

        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </a>

            <a class="brand" href=".">
            brunetto's blog
            </a>
            <!-- Everything you want hidden at 940px or less, place within here -->
            <div class="nav-collapse collapse">
                <ul class="nav">
                    
    
        
            <li><a href="archive.html">Archives</a>
        
    
        
            </li><li><a href="categories/index.html">Tags</a>
        
    
        
            </li><li><a href="stories/about.html">About</a>
        
    
        
            </li><li><a href="rss.xml">RSS</a>
        
    

                </li></ul>
                
                    
<!-- Custom search with google-->
<form id="search" action="http://google.com/search" method="get" class="navbar-form pull-left">
<input type="hidden" name="q" value="site:brunetto.github.io">
<input type="text" name="q" maxlength="255" results="0" placeholder="Search">
</form>
<!-- End of custom search -->

                
                <ul class="nav pull-right">
                
                
                
                
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- End of Menubar -->
<div class="container-fluid" id="container-fluid">
    <!--Body content-->
    <div class="row-fluid">
    <div class="span2"></div>
    <div class="span8">
    
    
        <div class="postbox">
        <h1><a href="posts/cosmological-simulations-7-limitations-and-some-considerations.html">Cosmological simulations #7: Limitations and some considerations</a></h1>
        <p style="text-align:right"><big>
             Posted: 2011-12-04 00:00
        </big></p>
        <hr>
        <div><p><strong>Limitations</strong>    </p>
<p>In the previous posts we encountered some of the limitations of cosmological  <br>
simulations. Let's review these in detail.  <br>
First, we can consider a simulation composed of a finite box in a bigger space but to represent a real system, this box shouldn't be isolated so we use the periodic boundary conditions (<a href="http://brunettoziosi.blogspot.it/2011/11/cosmological-simulations-2-how.html" target="_blank" title="Cosmological simulations #2: how?">here</a>). This means that all the space around the box is filled with images of the box itself: a particle that leaves the box from one side will come in  <br>
from the opposite side.   <br>
</p><p><a href="posts/cosmological-simulations-7-limitations-and-some-considerations.html">Read more...</a></p></div>
        <p>
        
            <a href="posts/cosmological-simulations-7-limitations-and-some-considerations.html#disqus_thread" data-disqus-identifier="cache/posts/cosmological-simulations-7-limitations-and-some-considerations.html">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="posts/from-binaries-to-hdf5-using-python.html">From binaries to HDF5 using Python</a></h1>
        <p style="text-align:right"><big>
             Posted: 2011-12-02 00:00
        </big></p>
        <hr>
        <div><p>I have used this script to convert the Millennium II data from the unformatted fortran binary formato to the DF5 one.  <br>
The core of the script is a module (<code>modified_read_snapshots</code>) built on the basis of a script kindly provided by <a href="http://mbk.ps.uci.edu/index.html" target="_blank" title="Mike Boylan-Kolchin">Mike Boylan-Kolchin</a> from the group that perform the Millennium II simulation.     </p>
<p><a href="posts/from-binaries-to-hdf5-using-python.html">Read more...</a></p></div>
        <p>
        
            <a href="posts/from-binaries-to-hdf5-using-python.html#disqus_thread" data-disqus-identifier="cache/posts/from-binaries-to-hdf5-using-python.html">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="posts/from-csv-to-hdf5-in-python.html">From .csv to HDF5 in Python</a></h1>
        <p style="text-align:right"><big>
             Posted: 2011-12-02 00:00
        </big></p>
        <hr>
        <div><p>PyTables is a Python library that provide a simple but really useful interface to manage the HDF5 files with some other interesting features (compression, optimizations, ...). To the library presentation and documentation, for now refers, to the <a href="http://www.pytables.org/moin" target="_blank" title="site">site</a>.  <br>
I used it a lot during my master thesis to manage the dataset from the Millennium database.  <br>
Here I provide a brief review of how I used it to store data obtained in .csv (comma separated values) format.    </p>
<p><a href="posts/from-csv-to-hdf5-in-python.html">Read more...</a></p></div>
        <p>
        
            <a href="posts/from-csv-to-hdf5-in-python.html#disqus_thread" data-disqus-identifier="cache/posts/from-csv-to-hdf5-in-python.html">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="posts/cosmological-simulations-6-adding-gas.html">Cosmological simulations #6: adding gas!</a></h1>
        <p style="text-align:right"><big>
             Posted: 2011-11-29 00:00
        </big></p>
        <hr>
        <div><p>As we have seen, cosmological N-body simulations consider only gravitational interactions. This is good for large scale distribution of matter such as galaxy distribution or cluster formation, but if we are interested in smaller details we have to add gas physics.  <br>
There are two main approaches, completely different one from the other.    </p>
<p><a href="posts/cosmological-simulations-6-adding-gas.html">Read more...</a></p></div>
        <p>
        
            <a href="posts/cosmological-simulations-6-adding-gas.html#disqus_thread" data-disqus-identifier="cache/posts/cosmological-simulations-6-adding-gas.html">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="posts/python-slicing-rebinning-and-indexing.html">Python slicing, rebinning and indexing</a></h1>
        <p style="text-align:right"><big>
             Posted: 2011-11-25 00:00
        </big></p>
        <hr>
        <div><p>During my master thesis I had to manage a lot of (different) data from GIF and GIF2 projects, Millimillennium, Millenium and Millennium 2 simulations and so on. Sometimes there were the need to sort, divide or rearrange these dataset.   <br>
Here some examples.    </p>
<p><a href="posts/python-slicing-rebinning-and-indexing.html">Read more...</a></p></div>
        <p>
        
            <a href="posts/python-slicing-rebinning-and-indexing.html#disqus_thread" data-disqus-identifier="cache/posts/python-slicing-rebinning-and-indexing.html">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="posts/python-logging.html">Python logging</a></h1>
        <p style="text-align:right"><big>
             Posted: 2011-11-17 00:00
        </big></p>
        <hr>
        <div><p>After I had a <a href="http://brunettoziosi.blogspot.it/2011/11/python-parallel-job-manager.html" target="_blank" title="Python parallel job manager">Python parallel job manager</a> I realize that all the attempts I have done to log what happen in my code weren't satisfying. It was not comfortable to manage every output when I want to change something and it was impossible to switch off some of logs without changing the code. The Python logging library is a great piece of code that permits to personalize most of the aspect of the logging in a program but maintaining a standard and comfortable interface. It also allows an easy management of many different outputs (file, screen, ...) and different levels of logging (error, info, ...) indipendent one from each other. It also allows to handle the logging of the imported modules.  <br>
</p><p><a href="posts/python-logging.html">Read more...</a></p></div>
        <p>
        
            <a href="posts/python-logging.html#disqus_thread" data-disqus-identifier="cache/posts/python-logging.html">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="posts/python-cli-and-configuration-file-parser.html">Python CLI and configuration file parser</a></h1>
        <p style="text-align:right"><big>
             Posted: 2011-11-17 00:00
        </big></p>
        <hr>
        <div><p>One of the first things I needed writing the code for my thesis was the ability to read options and parameters both from a configuration file and from the command line. After some attempts I have found (at <a href="http://www.decalage.info/" target="_blank" title="http://www.decalage.info">http://www.decalage.info</a>) a file parser to read a configuration file and the Python library <a href="http://docs.python.org/dev/library/argparse.html" target="_blank" title="argparse">argparse</a> for the command line parsing. In addition I have modified the file parser and I've added a "variable container" object, inspired by some snippets found somewhere on the web.  <br>
</p><p><a href="posts/python-cli-and-configuration-file-parser.html">Read more...</a></p></div>
        <p>
        
            <a href="posts/python-cli-and-configuration-file-parser.html#disqus_thread" data-disqus-identifier="cache/posts/python-cli-and-configuration-file-parser.html">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="posts/cosmological-simulations-5-initial-conditions.html">Cosmological simulations #5: initial conditions!</a></h1>
        <p style="text-align:right"><big>
             Posted: 2011-11-16 00:00
        </big></p>
        <hr>
        <div><p>After we had a look on why we need cosmological simulations, what they are and how they are performed, it's time to learn more about the preparation of a simulation, in particular what are initial conditions and how we build them.  <br>
</p><p><a href="posts/cosmological-simulations-5-initial-conditions.html">Read more...</a></p></div>
        <p>
        
            <a href="posts/cosmological-simulations-5-initial-conditions.html#disqus_thread" data-disqus-identifier="cache/posts/cosmological-simulations-5-initial-conditions.html">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="posts/cosmological-simulations-3-force-calculation.html">Cosmological simulations #3: force calculation!</a></h1>
        <p style="text-align:right"><big>
             Posted: 2011-11-13 00:00
        </big></p>
        <hr>
        <div><p>In the previous posts we wrote about cosmological simulations, why we need them, how they are performed and which are the important things to care about.
Now we are ready to learn the algorithms developed to compute gravitational forces between the particles.    </p>
<p><a href="posts/cosmological-simulations-3-force-calculation.html">Read more...</a></p></div>
        <p>
        
            <a href="posts/cosmological-simulations-3-force-calculation.html#disqus_thread" data-disqus-identifier="cache/posts/cosmological-simulations-3-force-calculation.html">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="posts/cosmological-simulations-4-moving-the-particles.html">Cosmological simulations: #4: Moving the particles!</a></h1>
        <p style="text-align:right"><big>
             Posted: 2011-11-13 00:00
        </big></p>
        <hr>
        <div><h4>Equations of motion</h4>
<p>Once we have learned how to calculate gravitational forces and decided which way is best for us, it's time to move particles according to the force field.  <br>
To have an idea of what happens we can look at a simplified version of the pp-method, where the new coordinates and velocities are expressed starting from the previous values:    </p>
<p>$\mathbf{v}_i^{new}=\mathbf{v}_i^{old}+\frac{\mathbf{F}_i}{m_i}\Delta t$
$\mathbf{x}_i^{new}=\mathbf{x}_i^{old}+\mathbf{v}_i\Delta t$</p>
<p>More in general we start from the Newtonian equation of motion for a set of particles interacting only through gravity, in particular we consider the Euler and Poisson equations. We express these in comoving coordinates because in this way we can focus on density and velocity perturbations, while the expansion of the universe is included in the scale factor $a$ (obtained from the Friedmann equations):    </p>
<p>$\frac{\mathrm{d}^2\mathbf{x}}{\mathrm{d}t^2}+2\frac{\mathrm{d}a/\mathrm{d}t}{a}\frac{\mathrm{d}\mathbf{x}}{\mathrm{d}t}=-\frac{1}{a^2}\nabla_x\phi$</p>
<p>$\nabla_x^2\phi=4\pi Ga^2\bar \rho\delta = \frac{3}{2}H_0^2\Omega_0\frac{\delta}{a}$</p>
<p><a href="posts/cosmological-simulations-4-moving-the-particles.html">Read more...</a></p></div>
        <p>
        
            <a href="posts/cosmological-simulations-4-moving-the-particles.html#disqus_thread" data-disqus-identifier="cache/posts/cosmological-simulations-4-moving-the-particles.html">Comments</a>
        
        </p></div>
    
    <div>
<ul class="pager">
  
  
    <li class="next">
        <a href="index-1.html">Older posts  →</a>
  
</li></ul>

    </div>
    <hr>
    
        <script type="text/javascript"> var disqus_shortname = 'brunettosblog'; (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = 'http://' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script>
    

    </div>
    </div>
    <!--End of body content-->
</div>
<div class="footerbox">
    Contents © 2013         <a href="mailto:brunetto.ziosi@gmail.com">brunetto</a> - Powered by         <a href="http://nikola.ralsina.com.ar">Nikola</a>
</div>


    <!-- Social buttons -->
    <div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
    <a class="addthis_button_more">Share</a>
    <ul><li><a class="addthis_button_facebook"></a>
    </li><li><a class="addthis_button_google_plusone_share"></a>
    </li><li><a class="addthis_button_linkedin"></a>
    </li><li><a class="addthis_button_twitter"></a>
    </li></ul>
    </div>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script>
    <!-- End of social buttons -->



    
        
            <script src="assets/js/jquery-1.7.2.min.js" type="text/javascript"></script>
            <script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
        
        <script src="assets/js/jquery.colorbox-min.js" type="text/javascript"></script>
        <script src="assets/js/mathjax-onload.js" type="text/javascript"></script>
    


    <script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"80%",maxHeight:"80%",scalePhotos:true});</script>
</body></html>